<!-- views/newadmin.ejs -->
<!-- Written by Daniel Kho -->
<!--
	Copyright 2017, Allison Kuo, Daniel Kho, Jeremy Rotman
	
	This file is part of ArientoSend.

    ArientoSend is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    ArientoSend is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with ArientoSend.  If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE HTML>
<html>
<head>
	<title>Ariento Admin Portal - Add Admin Account</title>
	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"> <!-- load boostrap css -->
	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css"> <!-- load fontawesome -->
	<link href="https://fonts.googleapis.com/css?family=Lato:300,700" rel="stylesheet"> <!-- font -->
	<link rel="stylesheet" type="text/css" href="css/style.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>   
</head>
<body>
<nav class="navbar navbar-fixed-top">
    <div class="container-fluid">
        <ul class="nav navbar-nav navbar-right">
			<li class="disabled"><a href="#">WELCOME, <%= user.username%></a></li>
            <li><a href="/landingpage"> HOME</a></li>
            <li><a href="/create"> CREATE</a></li>
            <li><a href="/edit"> EDIT</a></li>
            <li><a href="/newadmin"> NEW ADMIN</a></li>
            <li><a href="/set2fa"><i class="fa fa-cog" aria-hidden="true"></i></a></li>
            <li><a href="/logout"> LOGOUT</a></li>
        </ul>
    </div>
</nav>

<div class="container-fluid vertical-center">
	
	<div class="center-block">
		<h1 id="login-header">CREATE ADMIN ACCOUNT</h1>

	    <!-- show any messages that come back with authentication -->
	    <% if (message.length > 0) { %>
	        <div class="alert alert-danger"><%= message %></div>
	    <% } %>
		
		<!-- ACCOUNT INFORMATION -->
		<form action="/newadmin" method="post">
			<div class="form-group stack">
	            <input type="text" class="form-control input-box" name="username" placeholder="Username">
	        </div>
			<div class="form-group stack">
	            <input type="text" class="form-control input-box" name="email" placeholder="Email">
	        </div>
	        <div class="form-group stack">
	            <input type="password" class="form-control input-box" name="password" placeholder="Password">
	        </div>
			<div class="form-group stack">
	            <input type="password" class="form-control input-box" name="password2" placeholder="Confirm Password">
	        </div>

	        <div class="clickable"><button  type="submit" id="create" disabled="disabled">CREATE</button></div>
		</form>
	</div>

	 <script>
    // disable create button if not all inputs are provided
    $('form').find('input').keyup(function() {

        var empty = false;
        $('form').find('input').each(function() {
            if ($(this).val() == '') {
                console.log($(this).val());
                empty = true;
            }
        });

        if (empty) {
            $('#create').attr('disabled', 'disabled'); 
        } else {
            $('#create').removeAttr('disabled'); 
        }
    });
    </script>


</div>
</body>
</html>